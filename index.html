<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chakradham Cosmic Healing Station</title>
    <style>
        /* --- CSS VARIABLES & THEME --- */
        :root {
            --cosmic-dark: #0f172a; --primary-blue: #1e3a8a; --healing-teal: #0d9488;
            --gold: #fbbf24; --white: #ffffff; --bg-light: #f8fafc; --text-main: #334155;
            --sidebar-width: 260px;
        }

        body { font-family: 'SolaimanLipi', 'Arial', sans-serif; margin: 0; padding: 0; background-color: var(--bg-light); color: var(--text-main); transition: 0.3s; overflow-x: hidden; }

        /* HEADER */
        header { background-color: var(--cosmic-dark); padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; color: var(--white); position: sticky; top: 0; z-index: 1000; box-shadow: 0 4px 15px rgba(0,0,0,0.4); border-bottom: 2px solid var(--gold); }
        .logo-area { display: flex; align-items: center; gap: 15px; }
        .logo-img { height: 60px; width: 60px; border-radius: 50%; border: 2px solid var(--gold); filter: brightness(1.3) contrast(1.2) drop-shadow(0 0 8px var(--gold)); background-color: transparent; }
        .logo-text h1 { margin: 0; font-size: 1.5rem; letter-spacing: 1px; color: var(--white); text-transform: uppercase; }
        .custom-subtitle { font-size: 16px; color: rgb(214, 184, 184); }

        /* Back Button */
        .back-btn { background: #ef4444; border: 1px solid #fff; color: var(--white); padding: 8px 15px; border-radius: 20px; cursor: pointer; font-size: 0.9rem; transition: 0.3s; font-weight: bold; text-decoration: none; }
        .back-btn:hover { background: #dc2626; }

        /* TICKER */
        .ticker-wrap { background-color: var(--healing-teal); color: white; padding: 3px; font-size: 17px; border-radius: 2px; overflow: hidden; white-space: nowrap; }
        .ticker-item { display: inline-block; animation: scroll-text 40s linear infinite; font-weight: bold; }
        @keyframes scroll-text { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* LAYOUT */
        .app-container { display: flex; min-height: calc(100vh - 120px); }
        .sidebar { width: var(--sidebar-width); background-color: var(--white); border-right: 1px solid #e2e8f0; padding: 20px 0; display: flex; flex-direction: column; flex-shrink: 0; }
        .sidebar button { background: transparent; border: none; color: var(--text-main); padding: 15px 25px; text-align: left; font-size: 1rem; cursor: pointer; transition: all 0.2s; border-bottom: 1px solid rgba(0,0,0,0.05); display: flex; align-items: center; gap: 10px; }
        .sidebar button:hover { background-color: #f1f5f9; color: var(--primary-blue); border-left: 5px solid var(--healing-teal); padding-left: 30px; }
        
        .main-content { flex: 1; padding: 15px 25px; overflow-y: auto; }
        .card { background: var(--white); border-radius: 12px; padding: 20px; margin-bottom: 30px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); border: 1px solid #e2e8f0; }
        .card h2 { color: var(--primary-blue); margin-top: 0; border-bottom: 2px solid #f1f5f9; padding-bottom: 10px; font-size: 1.3rem; }

        .research-btn { background: linear-gradient(90deg, var(--primary-blue), var(--cosmic-dark)); color: white; width: 100%; padding: 15px; border: none; border-radius: 8px; font-size: 1.2rem; cursor: pointer; margin-bottom: 25px; margin-top: 0; box-shadow: 0 4px 15px rgba(30, 58, 138, 0.3); text-transform: uppercase; font-weight: bold; transition: transform 0.2s; }
        .research-btn:hover { transform: scale(1.02); }

        /* Scroll Gallery */
        .scroll-container { overflow: hidden; white-space: nowrap; background: #f1f5f9; padding: 15px; border-radius: 8px; position: relative; }
        .scroll-track { display: inline-block; animation: scroll-left 25s linear infinite; }
        .scroll-track:hover { animation-play-state: paused; }
        .gallery-img, .device-card { display: inline-block; width: 220px; height: 180px; background-color: #fff; margin-right: 20px; border-radius: 10px; vertical-align: top; text-align: center; border: 2px solid #e2e8f0; box-shadow: 0 2px 5px rgba(0,0,0,0.05); position: relative; overflow: hidden; }
        .img-placeholder { height: 120px; background-color: #cbd5e1; display: flex; align-items: center; justify-content: center; font-size: 3rem; color: #fff; }
        .caption { padding: 10px; font-size: 0.9rem; font-weight: bold; white-space: normal; line-height: 1.2; }
        @keyframes scroll-left { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }

        /* MEDIA PLAYER STYLE */
        .media-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .media-box { background: #f8fafc; border: 1px solid #e2e8f0; padding: 15px; border-radius: 8px; text-align: center; }
        
        /* Video Container: Default black background for MP4s */
        .video-container { width: 100%; height: 200px; border-radius: 8px; overflow: hidden; background: #000; display: none; margin-bottom: 10px; }
        
        /* Playlist Buttons */
        .playlist { display: flex; flex-direction: column; gap: 5px; max-height: 150px; overflow-y: auto; text-align: left; margin-top: 10px; }
        .play-btn { background: white; border: 1px solid #ddd; padding: 8px; border-radius: 5px; cursor: pointer; transition: 0.2s; font-size: 0.9rem; display: flex; align-items: center; gap: 8px; }
        .play-btn:hover { background: var(--healing-teal); color: white; border-color: var(--healing-teal); }
        
        /* Focus & Modal */
        #meditation-section { text-align: center; border: 2px dashed var(--gold); padding: 30px; background: rgba(251, 191, 36, 0.05); }
        .size-btn { margin: 5px; cursor: pointer; border: none; background: var(--healing-teal); color: white; border-radius: 5px; font-weight: bold; }
        .contact-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .btn-call { background: var(--primary-blue); color: rgb(255, 255, 255); text-align: center; padding: 15px; border-radius: 8px; text-decoration: none; font-weight: bold; display: block; }
        .btn-wa { background: #25D366; color: white; text-align: center; padding: 15px; border-radius: 8px; text-decoration: none; font-weight: bold; display: block; }

        #focus-screen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 5000; justify-content: center; align-items: center; flex-direction: column; cursor: none; }
        .focus-dot { background: black; border-radius: 50%; }
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 6000; justify-content: center; align-items: center; }
        .modal-content { background: var(--white); padding: 40px; border-radius: 15px; max-width: 500px; text-align: center; border-top: 5px solid var(--gold); }

        @media (max-width: 768px) { .app-container { flex-direction: column; } .sidebar { width: 100%; height: auto; flex-direction: row; overflow-x: auto; } .sidebar button { min-width: 150px; } .media-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <header>
        <div class="logo-area">
            <img src="chakra.jpg" alt="Cosmic Chakra Logo" class="logo-img">
            <div class="logo-text">
                <h1>CHAKRADHAM</h1>
                <span class="custom-subtitle">‡¶ï‡¶∏‡¶Æ‡¶ø‡¶ï ‡¶π‡¶ø‡¶≤‡¶ø‡¶Ç ‡¶∏‡ßç‡¶ü‡ßá‡¶∂‡¶®</span>
            </div>
        </div>
        <button class="back-btn" onclick="location.href='https://chakra-login-app.vercel.app/'">üîô Back</button>
    </header>

    <div class="ticker-wrap">
        <div class="ticker-item" id="ticker-content">Loading...</div>
    </div>

    <div class="app-container">
        
        <nav class="sidebar" id="sidebar-menu">
            </nav>

        <main class="main-content">
            
            <button class="research-btn" onclick="window.location.href='gobeshona.html'">
                üìñ ‡¶ó‡¶¨‡ßá‡¶∑‡¶£‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶ú‡¶æ‡¶®‡¶§‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®
            </button>

            <div class="card">
                <h2>‡¶ö‡¶ø‡¶ï‡¶ø‡ßé‡¶∏‡¶æ‡¶∞ ‡¶´‡¶≤‡¶æ‡¶´‡¶≤ (Before & After)</h2>
                <div class="scroll-container">
                    <div class="scroll-track" id="treatment-gallery"></div>
                </div>
            </div>

            <div class="card">
                <h2>‡¶Ö‡¶°‡¶ø‡¶ì ‡¶ì ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ</h2>
                <div class="media-grid">
                    
                    <div class="media-box">
                        <div id="video-placeholder">
                            <div style="font-size: 3rem;">‚ñ∂Ô∏è</div>
                            <p><strong>‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ</strong></p>
                            <button onclick="playFirstVideo()" style="padding:5px 15px; cursor:pointer;">‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                        </div>
                        
                        <div class="video-container" id="video-container"></div>

                        <p style="margin:5px 0 0 0; font-weight:bold; color:var(--primary-blue); font-size:0.9rem;">‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ:</p>
                        <div class="playlist" id="video-list"></div>
                    </div>

                    <div class="media-box">
                        <div style="font-size: 3rem;">üîä</div>
                        <audio id="main-audio" controls style="width: 100%; height: 40px; margin-bottom: 10px;">
                            <source src="" type="audio/mp3">
                        </audio>
                        <p style="margin:5px 0 0 0; font-weight:bold; color:var(--primary-blue); font-size:0.9rem;">‡¶Ö‡¶°‡¶ø‡¶ì ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ:</p>
                        <div class="playlist" id="audio-list"></div>
                    </div>

                </div>
            </div>

            <div class="card">
                <h2>‡¶ï‡¶∏‡¶Æ‡¶ø‡¶ï ‡¶π‡¶ø‡¶≤‡¶ø‡¶Ç ‡¶Æ‡ßá‡¶∂‡¶ø‡¶® (‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶¨‡¶æ‡¶Æ)</h2>
                <p>‡¶è‡¶ü‡¶ø ‡¶ó‡¶§ ‡ß´-‡ß≠ ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶ó‡¶¨‡ßá‡¶∑‡¶£‡¶æ‡¶∞ ‡¶´‡¶∏‡¶≤‡•§ ‡¶è‡¶ü‡¶ø 'Zero Energy' ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø‡¶§‡ßá ‡¶§‡ßà‡¶∞‡¶ø, ‡¶Ø‡¶æ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡ßÅ‡ßé‡¶¨‡¶ø‡¶π‡ßÄ‡¶®‡•§ ‡¶Æ‡ßã‡¶ü‡¶∞ ‡¶ì ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡¶ø ‡¶õ‡¶æ‡¶°‡¶º‡¶æ ‡¶§‡ßà‡¶∞‡¶ø, ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶™‡ßç‡¶∞‡¶æ‡¶ï‡ßÉ‡¶§‡¶ø‡¶ï ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶Ø‡¶º ‡¶è‡¶á ‡¶•‡ßá‡¶∞‡¶æ‡¶™‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶∞‡ßç‡¶¨‡¶ø‡¶ï ‡¶â‡¶™‡¶ï‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá‡•§</p>
                <div class="scroll-container">
                    <div class="scroll-track" id="device-gallery" style="animation-duration: 30s;"></div>
                </div>
            </div>

            <div class="card" id="meditation-section">
                <h3>‡¶Æ‡ßá‡¶°‡¶ø‡¶ü‡ßá‡¶∂‡¶® ‡¶ì ‡¶´‡ßã‡¶ï‡¶æ‡¶∏ ‡¶ü‡ßá‡¶∏‡ßç‡¶ü</h3>
                <p>‡¶¨‡¶ø‡¶®‡ßç‡¶¶‡ßÅ‡¶∞ ‡¶Ü‡¶ï‡¶æ‡¶∞ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡ßß ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶´‡ßã‡¶ï‡¶æ‡¶∏ ‡¶ï‡¶∞‡ßÅ‡¶®:</p>
                <div style="margin: 20px 0px;">
                    <button class="size-btn" onclick="startFocus(10)" style="padding: 17px; font-size: 18px;">‡¶õ‡ßã‡¶ü (Small)</button>
                    <button class="size-btn" onclick="startFocus(25)" style="padding: 16px; font-size: 19px;">‡¶Æ‡¶æ‡¶ù‡¶æ‡¶∞‡¶ø (Medium)</button>
                    <button class="size-btn" onclick="startFocus(50)" style="padding: 20px; font-size: 21px;">‡¶¨‡¶°‡¶º (Large)</button>
                </div>
                <small>‚ö†Ô∏è ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶≤‡ßá ‡¶Æ‡¶ø‡¶â‡¶ú‡¶ø‡¶ï ‡¶¨‡¶æ‡¶ú‡¶¨‡ßá</small>
            </div>

            <div class="card">
                <h2>‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
                <div class="contact-grid">
                    <a href="tel:+916296378080" class="btn-call">üìû ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®</a>
                    <a href="https://wa.me/916296378080" class="btn-wa">üí¨ WhatsApp</a>
                </div>
            </div>

        </main>
    </div>

    <div id="focus-screen">
        <div id="active-dot" class="focus-dot"></div>
        <audio id="bg-music" loop>
            <source src="chakra.mp3" type="audio/mp3">
        </audio>
    </div>

    <div id="success-modal" class="modal-overlay">
        <div class="modal-content">
            <div style="font-size: 3rem; color: var(--gold);">‡•ê</div>
            <h2 style="color:var(--healing-teal);">‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®!</h2>
            <p style="font-size: 1.1rem; line-height: 1.6; color: #444;">
                ‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶® ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶ï ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶è‡¶ï‡¶æ‡¶ó‡ßç‡¶∞‡¶§‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶ß‡ßç‡¶Ø‡¶æ‡¶® ‡¶¨‡¶ø‡¶®‡ßç‡¶¶‡ßÅ‡¶§‡ßá ‡¶Æ‡¶ó‡ßç‡¶® ‡¶•‡¶æ‡¶ï‡¶§‡ßá ‡¶™‡ßá‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§ 
                <br><br>
                ‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶® ‡¶Ü‡¶™‡¶®‡¶ø <strong>CHAKRADHAM</strong> ‡¶è ‡¶ï‡¶∏‡¶Æ‡¶ø‡¶ï ‡¶π‡¶ø‡¶≤‡¶ø‡¶Ç ‡¶®‡ßá‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ú‡¶® ‡¶Ü‡¶¶‡¶∞‡ßç‡¶∂ ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡•§ 
                ‡¶è‡¶á ‡¶•‡ßá‡¶∞‡¶æ‡¶™‡¶ø ‡¶®‡ßá‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡¶Ç‡¶∏‡ßç‡¶•‡¶æ‡¶∞ contact number ‡¶è ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§
            </p>
            <button onclick="closeModal('success-modal')" style="padding:10px 20px; background:var(--primary-blue); color:white; border:none; border-radius:5px; cursor:pointer; margin-top:15px;">‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá</button>
        </div>
    </div>

    <script>
        // Global variable to store video list
        let videoData = [];

        // --- 1. FETCH VIDEO JSON ---
        fetch('video.json')
            .then(res => res.json())
            .then(videos => {
                videoData = videos || [];
                const videoListDiv = document.getElementById('video-list');

                if(videoData.length > 0) {
                    videoData.forEach((video) => {
                        const btn = document.createElement('button');
                        btn.className = 'play-btn';
                        btn.innerHTML = `‚ñ∂ ${video.title}`;
                        btn.onclick = function() { playVideo(video.url); };
                        videoListDiv.appendChild(btn);
                    });
                }
            })
            .catch(err => console.error("Video JSON Error:", err));

        // --- 2. FETCH AUDIO JSON ---
        fetch('audio.json')
            .then(res => res.json())
            .then(audios => {
                const audioListDiv = document.getElementById('audio-list');
                const audioPlayer = document.getElementById('main-audio');

                if(audios && audios.length > 0) {
                    audioPlayer.src = audios[0].url; // Set first audio
                    audios.forEach((audio) => {
                        const btn = document.createElement('button');
                        btn.className = 'play-btn';
                        btn.innerHTML = `üéµ ${audio.title}`;
                        btn.onclick = function() {
                            audioPlayer.src = audio.url;
                            audioPlayer.play();
                        };
                        audioListDiv.appendChild(btn);
                    });
                }
            })
            .catch(err => console.error("Audio JSON Error:", err));


        // --- 3. VIDEO PLAYER LOGIC (Handles MP4 & YouTube) ---
        function playVideo(url) {
            if(!url) { alert("‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø!"); return; }
            
            // UI Toggle
            document.getElementById('video-placeholder').style.display = 'none';
            const container = document.getElementById('video-container');
            container.style.display = 'block';
            
            // Logic: Is it MP4 or YouTube?
            // Checking for common video extensions or raw github links
            if (url.includes('.mp4') || url.includes('.webm')) {
                // Direct Video File
                container.innerHTML = `
                    <video src="${url}" controls autoplay style="width:100%; height:100%; object-fit:cover; background:black;">
                        ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡¶õ‡ßá ‡¶®‡¶æ‡•§
                    </video>`;
            } else {
                // YouTube or Embed
                container.innerHTML = `<iframe src="${url}" allow="autoplay; encrypted-media" allowfullscreen style="width:100%; height:100%; border:none;"></iframe>`;
            }
        }

        function playFirstVideo() {
            if(videoData.length > 0) { playVideo(videoData[0].url); } 
            else { alert("‡¶ï‡ßã‡¶®‡ßã ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡ßã‡¶° ‡¶π‡ßü‡¶®‡¶ø!"); }
        }

        // --- 4. OTHER FETCH CALLS (Ads, Menu, Galleries) ---
        fetch('ads.json').then(res => res.json()).then(data => {
            document.getElementById('ticker-content').innerText = data.content;
        }).catch(err => console.error("Ads Error"));

        fetch('menu.json').then(res => res.json()).then(data => {
            const sidebarContainer = document.getElementById('sidebar-menu');
            data.forEach(item => {
                const btn = document.createElement('button');
                btn.setAttribute('onclick', `location.href='${item.link}'`);
                btn.innerHTML = `${item.icon} ${item.name}`;
                sidebarContainer.appendChild(btn);
            });
        }).catch(err => console.error("Menu Error"));

        fetch('treatment.json').then(res => res.json()).then(data => {
            const container = document.getElementById('treatment-gallery');
            data.forEach(card => {
                container.innerHTML += `
                    <div class="gallery-img">
                        <div class="img-placeholder">${card.icon}</div> 
                        <div class="caption">${card.label_before}<br><span style="color:red; font-size:0.8rem;">‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ: ${card.problem}</span></div>
                    </div>
                    <div class="gallery-img">
                        <div class="img-placeholder">${card.icon}</div>
                        <div class="caption">${card.label_after}<br><span style="color:green; font-size:0.8rem;">‡¶´‡¶≤‡¶æ‡¶´‡¶≤: ${card.result}</span></div>
                    </div>`;
            });
        }).catch(err => console.error("Treatment Error"));

        fetch('device.json').then(res => res.json()).then(data => {
            const container = document.getElementById('device-gallery');
            data.forEach(device => {
                container.innerHTML += `
                    <div class="device-card">
                        <div class="img-placeholder">${device.icon}</div>
                        <div class="caption">${device.title}<br><span style="font-size:0.8rem; color:var(--healing-teal);">${device.subtitle}</span></div>
                    </div>`;
            });
        }).catch(err => console.error("Device Error"));

        // --- 5. FOCUS TEST LOGIC ---
        function closeModal(id) {
            document.getElementById(id).style.display = 'none';
        }

        function startFocus(size) {
            const screen = document.getElementById('focus-screen');
            const dot = document.getElementById('active-dot');
            const music = document.getElementById('bg-music');

            dot.style.width = size + 'px';
            dot.style.height = size + 'px';
            screen.style.display = 'flex';
            
            music.volume = 0.5;
            music.play().catch(e => console.log("Audio play blocked"));

            setTimeout(() => {
                screen.style.display = 'none';
                music.pause();
                music.currentTime = 0;
                document.getElementById('success-modal').style.display = 'flex';
            }, 60000); 
        }
    </script>
</body>
</html>
